####################################################################
# WINDOW RULES                                                     #
####################################################################
# https://wiki.hypr.land/Configuring/Window-Rules/

# Ignore maximize requests from apps
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus, class:^$, title:^$, xwayland:1, floating:1, fullscreen:0, pinned:0

# Rules for floating windows
windowrule = maxsize 1600 900, floating:1
windowrule = minsize 900 508, floating:1
windowrule = center, floating:1

# Idle inhibit rules
windowrule = idleinhibit fullscreen, class:^(.*celluloid.*)$|^(.*mpv.*)$|^(.*vlc.*)$
windowrule = idleinhibit fullscreen, class:^(.*[Ss]potify.*)$
windowrule = idleinhibit fullscreen, class:^(.*LibreWolf.*)$|^(.*floorp.*)$|^(.*brave-browser.*)$|^(.*firefox.*)$|^(.*chromium.*)$|^(.*zen.*)$|^(.*vivaldi.*)$

# Picture-in-Picture
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# Opacity rules
windowrule = opacity 0.90 override 0.90 override 1, class:^(firefox)$
windowrule = opacity 0.90 override 0.90 override 1, class:^(brave-browser)$
windowrule = opacity 0.90 override 0.90 override 1, class:^([Cc]ode)$
windowrule = opacity 0.90 override 0.90 override 1, class:^([Cc]ode-oss)$
windowrule = opacity 0.90 override 0.90 override 1, class:^([Cc]ursor)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(code-url-handler)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(code-insiders-url-handler)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(kitty)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(org.kde.dolphin)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(org.kde.ark)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(nwg-look)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(qt5ct)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(qt6ct)$
windowrule = opacity 0.80 override 0.80 override 1, class:^(kvantummanager)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(org.pulseaudio.pavucontrol)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(blueman-manager)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(nm-applet)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(nm-connection-editor)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(polkit-gnome-authentication-agent-1)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(org.freedesktop.impl.portal.desktop.gtk)$
windowrule = opacity 0.80 override 0.70 override 1, class:^(org.freedesktop.impl.portal.desktop.hyprland)$
windowrule = opacity 0.70 override 0.70 override 1, class:^([Ss]team)$
windowrule = opacity 0.70 override 0.70 override 1, class:^(steamwebhelper)$
windowrule = opacity 0.70 override 0.70 override 1, class:^([Ss]potify)$
windowrule = opacity 0.70 override 0.70 override 1, initialTitle:^(Spotify Free)$
windowrule = opacity 0.70 override 0.70 override 1, initialTitle:^(Spotify Premium)$
windowrule = opacity 0.90 0.90, class:^(com.github.rafostar.Clapper)$
windowrule = opacity 0.80 0.80, class:^(com.github.tchx84.Flatseal)$
windowrule = opacity 0.80 0.80, class:^(hu.kramo.Cartridges)$
windowrule = opacity 0.80 0.80, class:^(com.obsproject.Studio)$
windowrule = opacity 0.80 0.80, class:^(gnome-boxes)$
windowrule = opacity 0.80 0.80, class:^(vesktop)$
windowrule = opacity 0.80 0.80, class:^(discord)$
windowrule = opacity 0.80 0.80, class:^(WebCord)$
windowrule = opacity 0.80 0.80, class:^(ArmCord)$
windowrule = opacity 0.80 0.80, class:^(app.drey.Warp)$
windowrule = opacity 0.80 0.80, class:^(net.davidotek.pupgui2)$
windowrule = opacity 0.80 0.80, class:^(yad)$
windowrule = opacity 0.80 0.80, class:^(Signal)$
windowrule = opacity 0.80 0.80, class:^(io.github.alainm23.planify)$
windowrule = opacity 0.80 0.80, class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrule = opacity 0.80 0.80, class:^(com.github.unrud.VideoDownloader)$
windowrule = opacity 0.80 0.80, class:^(io.gitlab.adhami3310.Impression)$
windowrule = opacity 0.80 0.80, class:^(io.missioncenter.MissionCenter)$
windowrule = opacity 0.80 0.80, class:^(io.github.flattool.Warehouse)$

# Force some apps to float
windowrule = float, class:^(org.kde.dolphin)$, title:^(Progress Dialog — Dolphin)$
windowrule = float, class:^(org.kde.dolphin)$, title:^(Copying — Dolphin)$
windowrule = float, title:^(About Mozilla Firefox)$
windowrule = float, class:^(firefox)$, title:^(Picture-in-Picture)$
windowrule = float, class:^(firefox)$, title:^(Library)$
windowrule = float, class:^(kitty)$, title:^(top)$
windowrule = float, class:^(kitty)$, title:^(btop)$
windowrule = float, class:^(kitty)$, title:^(htop)$
windowrule = float, class:^(vlc)$
windowrule = float, class:^(kvantummanager)$
windowrule = float, class:^(qt5ct)$
windowrule = float, class:^(qt6ct)$
windowrule = float, class:^(nwg-look)$
windowrule = float, class:^(nwg-displays)$
windowrule = float, class:^(org.kde.ark)$
windowrule = float, class:^(org.pulseaudio.pavucontrol)$
windowrule = float, class:^(blueman-manager)$
windowrule = float, class:^(nm-applet)$
windowrule = float, class:^(nm-connection-editor)$
windowrule = float, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = float, class:^([Xx]dg-desktop-portal-gtk)$
windowrule = float, class:^(Signal)$
windowrule = float, class:^(com.github.rafostar.Clapper)$
windowrule = float, class:^(app.drey.Warp)$
windowrule = float, class:^(net.davidotek.pupgui2)$
windowrule = float, class:^(yad)$
windowrule = float, class:^(eog)$
windowrule = float, class:^(io.github.alainm23.planify)$
windowrule = float, class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrule = float, class:^(com.github.unrud.VideoDownloader)$
windowrule = float, class:^(io.gitlab.adhami3310.Impression)$
windowrule = float, class:^(io.missioncenter.MissionCenter)$
windowrule = float, class:^(com.gabm.satty)$

# Force some modals to float
windowrule = float, title:^(Open)$
windowrule = float, title:^(Authentication Required)$
windowrule = float, title:^(Add Folder to Workspace)$
windowrule = float, initialTitle:^(Open File)$
windowrule = float, title:^(Choose Files)$
windowrule = float, title:^(Save As)$
windowrule = float, title:^(Confirm to replace files)$
windowrule = float, title:^(File Operation Progress)$
windowrule = float, class:^([Xx]dg-desktop-portal-gtk)$
windowrule = float, title:^(File Upload)(.*)$
windowrule = float, title:^(Choose wallpaper)(.*)$
windowrule = float, title:^(Library)(.*)$
windowrule = float, class:^(.*dialog.*)$
windowrule = float, title:^(.*dialog.*)$


####################################################################
# LAYER RULES                                                      #
####################################################################
# https://wiki.hypr.land/Configuring/Window-Rules/#layer-rules

layerrule = blur, waybar
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = blur, notifications
layerrule = ignorezero, notifications
layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-notification-window
layerrule = blur, swaync-control-center
layerrule = ignorezero, swaync-control-center
layerrule = blur, logout_dialog
